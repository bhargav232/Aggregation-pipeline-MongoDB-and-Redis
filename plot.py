


import matplotlib.pyplot as plt
import numpy as np

# Your data from the Redis empty test
redis_empty_test_times = [
      181.76209999993443, 147.97869999986142, 160.77379999961704, 167.11349999997765, 157.5230000000447,
    156.375, 149.94940000027418, 149.15950000006706, 151.66869999933988, 153.1430999999866,
    157.3283999999985, 149.80719999969006, 157.5612000003457, 160.2509000003338, 160.65519999992102,
    153.89580000005662, 148.68600000068545, 165.69029999990016, 154.11440000031143, 152.26919999998063,
    181.04619999974966, 156.9495000001043, 158.9883000003174, 187.60339999943972, 160.52220000047237,
    153.9663000004366, 171.50999999977648, 148.01820000074804, 164.9429999999702, 154.34429999999702,
    159.81110000051558, 150.84839999955148, 153.14680000022054, 160.02060000039637, 151.935899999924,
    148.61030000075698, 152.11550000030547, 149.34470000024885, 155.32269999943674, 149.49830000009388,
    150.59890000056475, 170.03230000007898, 165.1942999996245, 151.54069999977946, 156.69869999960065,
    146.14319999981672, 153.05530000012368, 151.24089999962598, 152.50409999955446, 146.40919999964535,
    155.65520000085235, 149.85370000079274, 151.71789999958128, 170.3847999991849, 147.51279999967664,
    153.95830000005662, 148.64910000003874, 149.01090000011027, 149.5637000007555, 152.234499999322,
    149.47729999944568, 150.58959999959916, 149.49689999967813, 155.7700000004843, 151.00169999990612,
    149.35709999967366, 147.50409999955446, 155.09830000065267, 149.38430000003427, 157.19929999951273,
    159.58559999987483, 145.87740000057966, 153.16660000011325, 177.11489999946207, 150.50700000021607,
    156.9934999998659, 154.02710000053048, 174.36260000057518, 153.84989999979734, 152.3098999997601,
    171.95679999981076, 152.8455999996513, 156.5368999997154, 153.08330000005662, 174.385399999097,
    152.28090000059456, 156.93499999959022, 152.31780000030994, 154.93140000011772, 162.11340000014752,
    155.8300000000745, 151.95449999999255, 158.50729999970645, 155.41930000018328, 155.7571000000462,
    154.40469999983907, 158.00820000004023, 160.67289999965578, 146.85419999994338, 151.77549999952316
]

# Calculate percentiles
percentiles = np.percentile(redis_empty_test_times, [50, 90])

# Plotting query times
plt.plot( redis_empty_test_times, label='Query Time', marker='o')
plt.axhline(y=percentiles[0], color='r', linestyle='--', label='50th Percentile')
plt.axhline(y=percentiles[1], color='g', linestyle='--', label='90th Percentile')

plt.xlabel('Iteration')
plt.ylabel('Query Time (ms)')
plt.title('Query Time vs Iteration')
plt.legend()
plt.show()
